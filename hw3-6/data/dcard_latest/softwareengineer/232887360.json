{"id":232887360,"title":"#請益　請問python爬取google的圖片程式?","content":"請問我這個程式哪裡出問題?我自己找很久也找不出問題來，我幾個月之前寫的那時候還能用，怎麼過幾個月之後就不能用了？是不是ｇｏｏｇｌｅ有改版？麻煩各位大大幫我解答ＱＡＱ\n下面是程式碼：\nimport requests\n\nimport urllib.request\n\nfrom bs4 import BeautifulSoup\n\nimport os\n\nimport time\n\nword = input('Input key word: ')\nurl = 'https://www.google.com.tw/search?q='+word+' &rlz=1C1CAFB_enTW617TW621&source=lnms&tbm=isch&sa=X&ved=0ahUKEwienc6V1oLcAhVN-WEKHdD_B3EQ_AUICigB&biw=1128&bih=863'\n\nphotolimit = 10\n\nheaders = {'User-Agent': 'Mozilla/5.0'}\n\nresponse = requests.get(url,headers = headers) #使用header避免訪問受到限制\n\nsoup = BeautifulSoup(response.content, 'html.parser')\n\nitems = soup.find_all('img')\n\nfolder_path ='./photo/'\n\nif (os.path.exists(folder_path) == False): #判斷資料夾是否存在\n    os.makedirs(folder_path)\nfor index , item in enumerate (items):\n    if (item and index < photolimit ):\n        html = requests.get(item.get('src'))\n        img_name = folder_path + str(index + 1) + '.png'\n        with open(img_name,'wb') as file: #以byte的形式將圖片數據寫入\n            file.write(html.content)\n            file.flush()\n        file.close()\n        print('第 %d 張' % (index + 1))\n        time.sleep(1)\n\nprint('Done')\n＃～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～\n下面是跑出來的錯誤訊息\n\nhttp://i.imgur.com/UG5wPRQ.jpg","excerpt":"請問我這個程式哪裡出問題？我自己找很久也找不出問題來，我幾個月之前寫的那時候還能用，怎麼過幾個月之後就不能用了？是不是ｇｏｏｇｌｅ有改版？麻煩各位大大幫我解答ＱＡＱ，下面是程式碼：import req","anonymousSchool":false,"anonymousDepartment":false,"pinned":false,"forumId":"a6dc1b6b-0aca-4004-86c8-3af6cdbfad23","replyId":null,"createdAt":"2020-01-14T02:10:33.244Z","updatedAt":"2020-01-14T02:11:59.878Z","commentCount":6,"likeCount":8,"tags":[],"topics":["python","程式","新手發問","問題"],"supportedReactions":null,"withNickname":false,"reportReason":"","hiddenByAuthor":false,"meta":{"layout":"classic"},"forumName":"軟體工程師","forumAlias":"softwareengineer","school":"輔英科技大學","department":"資管系","replyTitle":null,"gender":"M","personaSubscriptable":false,"reactions":[{"id":"286f599c-f86a-4932-82f0-f5a06f1eca03","count":8}],"hidden":false,"customStyle":null,"isSuspiciousAccount":false,"layout":"classic","withImages":true,"withVideos":false,"media":[{"url":"http://i.imgur.com/UG5wPRQ.jpg"}],"reportReasonText":"","mediaMeta":[{"id":"acdae9dc-fb09-4f77-8f3a-6627d6f35aa4","url":"https://i.imgur.com/UG5wPRQl.jpg","normalizedUrl":"https://i.imgur.com/UG5wPRQl.jpg","thumbnail":"https://i.imgur.com/UG5wPRQl.jpg","type":"image/thumbnail","tags":["ANNOTATED"],"createdAt":"2020-01-14T02:10:33.244Z","updatedAt":"2020-01-14T02:11:59.878Z"},{"id":"acdae9dc-fb09-4f77-8f3a-6627d6f35aa4","url":"http://i.imgur.com/UG5wPRQ.jpg","normalizedUrl":"https://imgur.com/UG5wPRQ","thumbnail":"https://i.imgur.com/UG5wPRQl.jpg","type":"image/imgur","tags":["ANNOTATED"],"createdAt":"2020-01-14T02:10:33.244Z","updatedAt":"2020-01-14T02:11:59.878Z"}],"postAvatar":""}