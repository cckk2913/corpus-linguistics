{"id":232777944,"title":"#問 python爬蟲 json 爬取段落的方法","content":"小弟我是python爬蟲的新手，最近在爬ig的json檔時遇到一些問題。\n\nhttp://i.imgur.com/qA4Rtkp.jpg\n\nhttp://i.imgur.com/EQhCNVn.jpg\n\n我看網路上的教學，目前自己的理解是說\nitems = doc('script[type=\"text/javascript\"]').items()\n這一行是抓取 script type=\"text/javascript\" 這一段後面的資料，\n然後if item.text().strip().startswith('window._sharedData'):\n是在判斷檔案是否是以window._sharedData為開頭。\n\n那我目前的問題是\n1、items = doc('script[type=\"text/javascript\"]').items()\n最後的items()是做什麼用的?\n2、if item.text().strip().startswith('window._sharedData'):\n的判斷順序是text()>strip()>startswith() 這樣嗎?那item.text()是什麼意思?\n3、 js_data = json.loads(item.text()[21:-1], encoding='utf-8')這行裡的\n[21:-1]是什麼意思?\n3、\nhttp://i.imgur.com/Zrxfqzr.jpg\n我想爬取這段json的資料請問該怎麼寫?\n目前我是寫這樣，但是抓不到資料....\nhttp://i.imgur.com/gqzAq1V.jpg\n請各位大大幫我解答了...","excerpt":"小弟我是python爬蟲的新手，最近在爬ig的json檔時遇到一些問題。我看網路上的教學，目前自己的理解是說，items = doc（'script［type=\"text/javascript\"］'）","anonymousSchool":false,"anonymousDepartment":false,"pinned":false,"forumId":"a6dc1b6b-0aca-4004-86c8-3af6cdbfad23","replyId":null,"createdAt":"2019-12-28T13:21:48.093Z","updatedAt":"2019-12-28T13:21:48.093Z","commentCount":3,"likeCount":2,"tags":[],"topics":["python","JSON","爬蟲"],"supportedReactions":null,"withNickname":false,"reportReason":"","hiddenByAuthor":false,"meta":{"layout":"classic"},"forumName":"軟體工程師","forumAlias":"softwareengineer","school":"致理科技大學","department":"資訊管理系","replyTitle":null,"gender":"M","personaSubscriptable":null,"reactions":[{"id":"286f599c-f86a-4932-82f0-f5a06f1eca03","count":2}],"hidden":false,"customStyle":null,"isSuspiciousAccount":false,"layout":"classic","withImages":true,"withVideos":false,"media":[{"url":"http://i.imgur.com/qA4Rtkp.jpg"},{"url":"http://i.imgur.com/EQhCNVn.jpg"},{"url":"http://i.imgur.com/Zrxfqzr.jpg"},{"url":"http://i.imgur.com/gqzAq1V.jpg"}],"reportReasonText":"","mediaMeta":[{"id":"cc05f175-52e1-414c-809e-eda8f3fa8b39","url":"https://i.imgur.com/qA4Rtkpl.jpg","normalizedUrl":"https://i.imgur.com/qA4Rtkpl.jpg","thumbnail":"https://i.imgur.com/qA4Rtkpl.jpg","type":"image/thumbnail","tags":["ANNOTATED"],"createdAt":"2019-12-28T13:21:48.093Z","updatedAt":"2019-12-28T13:21:48.093Z"},{"id":"cc05f175-52e1-414c-809e-eda8f3fa8b39","url":"http://i.imgur.com/qA4Rtkp.jpg","normalizedUrl":"https://imgur.com/qA4Rtkp","thumbnail":"https://i.imgur.com/qA4Rtkpl.jpg","type":"image/imgur","tags":["ANNOTATED"],"createdAt":"2019-12-28T13:21:48.093Z","updatedAt":"2019-12-28T13:21:48.093Z"},{"id":"2f76c5d0-9e82-43e4-af5c-856e8f08d1c2","url":"http://i.imgur.com/EQhCNVn.jpg","normalizedUrl":"https://imgur.com/EQhCNVn","thumbnail":"https://i.imgur.com/EQhCNVnl.jpg","type":"image/imgur","tags":["ANNOTATED"],"createdAt":"2019-12-28T13:21:48.093Z","updatedAt":"2019-12-28T13:21:48.093Z"},{"id":"c54bce25-1951-4cb7-9e71-051ea0e43188","url":"http://i.imgur.com/Zrxfqzr.jpg","normalizedUrl":"https://imgur.com/Zrxfqzr","thumbnail":"https://i.imgur.com/Zrxfqzrl.jpg","type":"image/imgur","tags":["ANNOTATED"],"createdAt":"2019-12-28T13:21:48.093Z","updatedAt":"2019-12-28T13:21:48.093Z"},{"id":"de22cc3d-a28f-4a3f-8670-6765ba0de494","url":"http://i.imgur.com/gqzAq1V.jpg","normalizedUrl":"https://imgur.com/gqzAq1V","thumbnail":"https://i.imgur.com/gqzAq1Vl.jpg","type":"image/imgur","tags":["ANNOTATED"],"createdAt":"2019-12-28T13:21:48.093Z","updatedAt":"2019-12-28T13:21:48.093Z"}],"postAvatar":""}